<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Honcari -気軽に本をどこへでも-</title>
	<!-- Style CSS -->
	<link rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}">
	<link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" type="text/css" />
	<script th:src="@{/js/rental_list.js}"></script>
	<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<!-- navbar -->
	<nav th:replace="header::frag_header(0)"></nav>
	<div id="flash" th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
  		<span th:text="${successMessage}"></span>
	</div>
	<!-- page content -->
	<div class="container content-wrapper">
		<div class="row mx-auto my-5">
		
				<!-- side bar -->
				<div th:replace="mypage_side_menu::frag_mypage_side_menu(2,${categoryNum})"></div>
				
				<!-- main content -->
				
 				 <div class="col-lg-9 col-md-9 col-sm-11 col-xs-11 float-left" th:if="${ownedBookInfoList}">
 				 	<table id="book-list">
						<tr>
							<th width="25%">書籍サムネイル</th><th width="30%">タイトル</th><th width="30%">著者</th><th width="15%">登録内容変更</th>
						</tr>
						<tr th:each="ownedBookInfo:${ownedBookInfoList}" id="register-tr">
							<td style="padding:10px 0 10px 0" height="110px"><span class="thumbnail">
      								<img class="card-img mx-auto d-block" th:src="${ownedBookInfo.book.thumbnailPath}" alt="">
      							</span>
      						</td>
      						<td>
      							<span class="card-text" th:text="${ownedBookInfo.book.title}"></span>
      						</td>
      						<td>
      							<p class="card-text book-author" th:text="${ownedBookInfo.book.author}"></p>
      						</td>
      						<td>
      							<a id="edit-button" class="btn btn-warning register-btn" th:href="@{'/book/show_edit?ownedBookInfoId=' + ${ownedBookInfo.ownedBookInfoId}}"><span>変更</span></a>
      						</td>
				</tr>
				</table>
					<!-- <div class="col-lg-3 col-md-5 col-sm-5 mb-5 float-left book-card" th:each="ownedBookInfo:${ownedBookInfoList}">
     					<div class="card">
      						<a class="thumbnail" th:href="@{'/book/show_detail?ownedBookInfoId=' + ${ownedBookInfo.ownedBookInfoId}}">
      							<img class="card-img mx-auto d-block" th:src="${ownedBookInfo.book.thumbnailPath}" alt="">
      						</a>
      						<div class="card-body">
							<a class="card-text book-title" th:href="@{'/book/show_detail?ownedBookInfoId=' + ${ownedBookInfo.ownedBookInfoId}}"><span class="card-text" th:text="${ownedBookInfo.book.title}"></span></a>
							<p class="card-text book-author" th:text="${ownedBookInfo.book.author}"></p>
							<p class="card-text" th:text="${ownedBookInfo.book.publishedDate}"></p>
							<a id="edit-button" class="btn btn-warning" th:href="@{'/book/show_edit?ownedBookInfoId=' + ${ownedBookInfo.ownedBookInfoId}}"><span>登録内容変更</span></a>
      						</div>
      					</div>
      				</div> -->
      				<div class="pager row justify-content-center">
      					<ul class="pagination" th:if="${categoryNum} == 0">
      						<li class="active mybook-list" th:each="i : ${#numbers.sequence(1, pageCount)}">
      							<a th:unless="${i == page /20 + 1}" th:href="@{'/book/show_mybook?page=' + ${i - 1}}" th:text="${i}"></a>
      							<span th:if="${i == page /20 + 1}" th:href="@{'/book/show_mybook?page=' + ${i - 1}}" th:text="${i}"></span>
      						</li>
      					</ul>
      					<ul class="pagination" th:if="${categoryNum} != 0">
      						<li class="active" th:each="i : ${#numbers.sequence(1, pageCount)}">
      							<a th:unless="${i == page / 20 + 1}" th:href="@{'/book/show_mybook_category?categoryId=' + ${categoryNum} + '&page=' + ${i - 1}}" th:text="${i}"></a>
      							<span th:if="${i == page / 20 + 1}" th:href="@{'/book/show_mybook_category?categoryId=' + ${categoryNum} + '&page=' + ${i - 1}}" th:text="${i}"></span>
      						</li>
      					</ul>
      				</div>
				</div>
				<div class="col-lg-8 col-md-7 col-sm-10 col-xs-12 float-left" th:if="${errorMessage}" style="text-align:center">
					<div class="register-book-image">
					<div th:text="${errorMessage}" style="font-size:1.3rem;padding:29% 0 7% 0; font-weight:bold; opacity:1.0;"></div>
					<a style="font-size:2rem; border-bottom:solid 1px; font-weight:bold; opacity:1.0;" th:href="@{/book/show_register}">新しく本を登録しよう<i class="fas fa-book"></i></a>
				</div>
			</div>
		</div>
	</div>
	<!-- 本登録ボタン -->
	<div th:replace="fixed_register_book_btn::register_book_btn"></div>
	<footer th:replace="footer::footer"></footer>
	<!-- script -->
	<script	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="../static/js/bootstrap.js" th:src="@{/js/bootstrap.js}"></script>
</body>
</html>